MORSE_CODE={'.-': 'A', '-...': 'B', '-.-.': 'C', '-..': 'D', '.': 'E', '..-.': 'F', '--.': 'G', '....': 'H', '..': 'I', '.---': 'J', '-.-': 'K', '.-..': 'L', '--': 'M', '-.': 'N', '---': 'O', '.--.': 'P', '--.-': 'Q', '.-.': 'R', '...': 'S', '-': 'T', '..-': 'U', '...-': 'V', '.--': 'W', '-..-': 'X', '-.--': 'Y', '--..': 'Z', '-----': '0', '.----': '1', '..---': '2', '...--': '3', '....-': '4', '.....': '5', '-....': '6', '--...': '7', '---..': '8', '----.': '9', '.-.-.-': '.', '--..--': ',', '..--..': '?', '.----.': "'", '-.-.--': '!', '-..-.': '/', '-.--.': '(', '-.--.-': ')', '.-...': '&', '---...': ':', '-.-.-.': ';', '-...-': '=', '.-.-.': '+', '-....-': '-', '..--.-': '_', '.-..-.': '"', '...-..-': '$', '.--.-.': '@', '...---...': 'SOS'}

def decode_char(ch):
    return MORSE_CODE[ch]

def decode_word(word):
    return ''.join(list(map(decode_char, word.split(' '))))

def decode_morse(morse_code):
    return ' '.join(list(map(decode_word, morse_code.strip().split('  ') )))

def decode_bits(bits):
    print(f'{bits=}')
    bits = bits.strip('0')
    if len(bits) > 1:
        dotl = len(bits)
        curl = 1
        for i in range(1,len(bits)):
            if bits[i-1] != bits[i]:
                dotl = min(dotl, curl)
                curl = 1
            else:
                curl += 1
            print(f'{i=} {bits[:i]} {curl=} {dotl=}')
    else:
        dotl = 1

    print(f' {dotl=}')
    return bits.replace('1' * dotl * 3, '-').replace('0' * dotl * 3, ' ').replace('1' * dotl, '.').replace('0' * dotl, '')


bits = '1100110011001100000011000000111111001100111111001111110000000000000011001111110011111100111111000000110011001111110000001111110011001100000011'
bits='00011100010101010001000000011101110101110001010111000101000111010111010001110101110000000111010101000101110100011101110111000101110111000111010000000101011101000111011101110001110101011100000001011101110111000101011100011101110001011101110100010101000000011101110111000101010111000100010111010000000111000101010100010000000101110101000101110001110111010100011101011101110000000111010100011101110111000111011101000101110101110101110'

m = decode_bits(bits)
print(f'{m=}')

print(decode_morse(m))